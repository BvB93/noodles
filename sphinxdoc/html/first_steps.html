

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>First Steps &mdash; Noodles 0.2.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Noodles 0.2.0 documentation" href="index.html"/>
        <link rel="next" title="Real World Tutorial 1: Translating Poetry" href="poetry_tutorial.html"/>
        <link rel="prev" title="Cooking of Noodles (library docs)" href="cooking.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Noodles
          

          
            
            <img src="_static/nlesc-logo-white.svg" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="eating.html">Eating noodles (user docs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="cooking.html">Cooking of Noodles (library docs)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">First Steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="poetry_tutorial.html">Real World Tutorial 1: Translating Poetry</a></li>
<li class="toctree-l1"><a class="reference internal" href="boil_tutorial.html">Real World Tutorial 2: Boil, a make tool.</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="scheduler.html">The Noodles Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="brokers.html">Co-routine brokers</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Noodles</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>First Steps</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/first_steps.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="first-steps">
<h1>First Steps<a class="headerlink" href="#first-steps" title="Permalink to this headline">Â¶</a></h1>
<p><strong>This tutorial is also available in the form of a Jupyter Notebook. Try it out, and play!</strong></p>
<p>Noodles is there to make your life easier, <em>in parallel</em>! The reason why Noodles can be easy and do parallel Python at the same time is its <em>functional</em> approach. In one part you&#8217;ll define a set of functions that you&#8217;d like to run with Noodles, in an other part you&#8217;ll compose these functions into a <em>workflow graph</em>. To make this approach work a function should not have any <em>side effects</em>. Let&#8217;s not linger and just start noodling! First we define some functions to use.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">noodles</span> <span class="k">import</span> <span class="n">schedule</span>

<span class="nd">@schedule</span>
<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>

<span class="nd">@schedule</span>
<span class="k">def</span> <span class="nf">mul</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>
</pre></div>
</div>
<p>Now we can create a workflow composing several calls to this function.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
<p>That looks easy enough; the funny thing is though, that nothing has been computed yet! Noodles just created the workflow graphs corresponding to the values that still need to be computed. Until such time, we work with the <em>promise</em> of a future value. Using the module <code class="docutils literal"><span class="pre">pygraphviz</span></code> (<code class="xref py py-obj docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pygraphviz</span></code>) we can look at the call graphs.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">draw_workflow</span> <span class="k">import</span> <span class="n">draw_workflow</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="n">draw_workflow</span><span class="p">(</span><span class="s2">&quot;wf1a.png&quot;</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">_workflow</span><span class="p">)</span>
<span class="n">draw_workflow</span><span class="p">(</span><span class="s2">&quot;wf1b.png&quot;</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">_workflow</span><span class="p">)</span>
<span class="n">draw_workflow</span><span class="p">(</span><span class="s2">&quot;wf1c.png&quot;</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">_workflow</span><span class="p">)</span>
<span class="n">draw_workflow</span><span class="p">(</span><span class="s2">&quot;wf1d.png&quot;</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">_workflow</span><span class="p">)</span>

<span class="n">err</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;montage wf1?.png -tile 4x1 -geometry +10+0 wf1-series.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center" style="width: 100%">
<img alt="building the workflow" src="_images/wf1-series.png" />
</div>
<p>Now, to compute the result we have to tell Noodles to evaluate the program.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">noodles</span> <span class="k">import</span> <span class="n">run_parallel</span><span class="p">,</span> <span class="n">run_single</span>

<span class="n">run_parallel</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">n_threads</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">16</span>
</pre></div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="poetry_tutorial.html" class="btn btn-neutral float-right" title="Real World Tutorial 1: Translating Poetry" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="cooking.html" class="btn btn-neutral" title="Cooking of Noodles (library docs)" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2016, Johan Hidding, Felipe Zapata, Berend Weel.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>